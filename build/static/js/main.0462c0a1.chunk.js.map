{"version":3,"sources":["pages/register/config.js","pages/register/store/constants.js","pages/register/store/reducer.js","pages/register/store/actionCreators.js","utils/errorCode.js","mock/index.js","utils/ajax.js","pages/autotraining/trainModel/store/constants.js","pages/autotraining/trainModel/store/reducer.js","pages/autotraining/trainModel/store/actionCreators.js","pages/autotraining/trainset/store/constants.js","pages/autotraining/trainset/store/reducer.js","pages/autotraining/trainset/store/actionCreators.js","pages/autotraining/audioModel/store/constants.js","pages/autotraining/audioModel/store/reducer.js","pages/autotraining/audioModel/store/actionCreators.js","pages/autotraining/testset/store/constants.js","pages/autotraining/testset/store/reducer.js","pages/autotraining/testset/store/actionCreators.js","pages/aftertreatment/correction/store/constants.js","pages/aftertreatment/correction/store/reducer.js","pages/aftertreatment/correction/store/actionCreators.js","pages/aftertreatment/punctuationpred/store/constants.js","pages/aftertreatment/punctuationpred/store/reducer.js","pages/aftertreatment/punctuationpred/store/actionCreators.js","pages/aftertreatment/textsegmentation/store/constants.js","pages/aftertreatment/textsegmentation/store/reducer.js","pages/aftertreatment/textsegmentation/store/actionCreators.js","pages/hotword/hotwordUpdate/store/constants.js","pages/hotword/hotwordUpdate/store/reducer.js","pages/hotword/hotwordUpdate/store/actionCreators.js","pages/autotraining/env/store/constants.js","pages/autotraining/env/store/reducer.js","pages/autotraining/env/store/actionCreators.js","pages/login/style.js","pages/login/index.js","pages/register/style.js","pages/register/index.js","pages/home/style.js","pages/home/index.js","components/loading/index.js","router/config.js","router/index.js","layout/header/style.js","layout/header/index.js","layout/siderBar/config.js","layout/siderBar/index.js","layout/style.js","layout/index.js","store/reducer.js","store/index.js","App.js","style.js","index.js","utils/localStorage.js","pages/login/store/constants.js","pages/login/store/reducer.js","pages/login/store/actionCreators.js","layout/footer/style.js","layout/footer/index.js"],"names":["allTreeData","title","key","children","createTreeData","list","console","log","length","forEach","item","changeTreeNode","service","treeData","service_name","project_list","map","project","name","desc","default","getTreeDataDefault","defaultKeys","itemChild","push","tranSelected2Services","services","notFirst","filter","indexOf","arr","split","correction","aftertreatment","defaultState","fromJS","defaultList","state","action","type","set","value","handlePageInit","dispatch","get","url","then","res","changeDefaultKeys","data","getServices","catch","errorCodes","10000","11001","11002","11003","11004","11005","11006","11007","10001","10002","10003","10004","10005","10006","10007","10015","10016","10017","10018","10019","10020","setHeaderAuth","token","axios","defaults","headers","common","params","extraParams","mock","useGeneralTip","window","location","hostname","Promise","resolve","setTimeout","mockData","xssParams","_","v","k","xss","filterXSS","request","method","post","put","deleteMethod","reject","err_code","message","error","err","baseURL","timeout","withCredentials","interceptors","response","use","status","getToken","refreshToken","refresh","access","localStorage","getItem","setAuthToken","removeItem","setUserInfo","pathname","CHANGE_ENV","tableData","envs","splice","Object","assign","constants","handleInitTableData","handleDeleteTableItem","index","myData","JSON","parse","stringify","task_type","handleChangeEnv","env","formData","FormData","append","file_id","env_name","instance","create","projects","selectedProject","corrections","rulesFixResult","wfstProjects","selectedWfstProject","wfstCorrections","wfstFixResult","collapsed","getProjects","changeSelectedRulesProject","changeRulesCorrections","handleRulesInit","a","getRulesCorrections","rules","f1","pre","after","result","changeRulesFixResult","handleRulesFix","selecedProject","text","trim","sent","handleChangeRulesProject","handleWfstInit","changeWfstProjects","getWfstCorrections","changeSelectedWftsProject","changeWfstCorrections","changeWfstFixResult","handleWfstFix","handleChangeWfstProject","word","changeCollapseStatus","puncFixResult","changePuncFixResult","handlePuncFix","textSplitFixResult","changeTextSplitFixResult","handleTextSplitFix","changeSelectedProject","changeHotwordCorrections","getHotWords","handleChangeSelectedProject","words","hot_value","changeFixResult","all","getEnvDetail","arrItem","LoginWrapper","styled","main","LoginBox","div","layout","labelCol","span","wrapperCol","tailLayout","offset","Login","this","props","loginStatus","to","initialValues","remember","onFinish","onFinishFailed","Item","label","required","Password","valuePropName","htmlType","Component","connect","getIn","values","actionCreators","handleLogin","errorInfo","RegisterWrapper","RegisterBox","Register","selectedKeys","handleRegister","success","handleChangeTreeData","initialValue","hasFeedback","dependencies","getFieldValue","validator","rule","checkable","checkedKeys","onSelect","info","onCheck","TextArea","ContentWapper","ContentBox","Home","Loading","className","tip","size","description","React","Correction","Loadable","loader","loading","Textsegmentation","Punctuationpred","HotwordUpdate","TrainModel","Env","AudioModel","Trainset","Testset","Routes","exact","path","from","component","MyPages","HeaderBlock","header","LogoBlock","LogoImg","img","attrs","src","LogoTitle","HeaderBtn","UserInfoWapper","AppHeader","renderLoginBtn","activeStyle","fontWeight","renderUserInfo","menu","onClick","logout","overlay","href","e","preventDefault","username","DownOutlined","loginActionCreators","allMenus","icon","subs","authToUrl","createMenus","authArr","urlKeys","Set","childItem","add","findMenus","menusNode","has","subMenus","menusNode_","x","SiderBar","getIcon","handleClick","renderSubMenu","SubMenu","renderMenuItem","defaultSelectedKeys","defaultOpenKeys","mode","theme","menus","LayoutContent","section","LayoutDetail","checkLogin","userInfo","getUserInfo","handleLoginKeep","userAuth","useEffect","useLocation","reducer","combineReducers","correctionReducer","punc","puncReducer","textSplit","textSplitReducer","hotword","hotwordReducer","trainModel","trainModelReducer","envReducer","audioModel","audioModelReducer","trainSet","trainSetReducer","testSet","testSetReducer","login","loginReducer","register","registerReducer","enhancer","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","applyMiddleware","thunk","store","createStore","App","locale","zhCN","GlobalStyle","createGlobalStyle","ReactDOM","render","document","getElementById","setItem","LOGOUT","authorities","changeAuthorities","changeUsername","handleLogout","removeUsername","removeAuthorities","FooterWapper","footer","Footer"],"mappings":"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","file":"static/js/main.0462c0a1.chunk.js","sourcesContent":["let allTreeData = [\n    {\n        title: '后处理',\n        key: 'aftertreatment',\n        children: [\n            {\n                title: '纠错处理',\n                key: 'correction',\n                children: [\n                    {\n                        title: '规则纠错',\n                        key: 'rules-correct',\n                        children:[]\n                        \n                    },\n                    {\n                        title: '智能纠错',\n                        key: 'wfst-correct',\n                        children:[]\n                    }\n                ]\n            },\n            {\n                title: '标点预测',\n                key: 'punc-predict',\n                children: []\n            },\n            {\n                title: '文本分割',\n                key: 'text-split',\n                children: []\n            }\n        ]\n    },\n    {\n        title: '热词更新',\n        key: 'hot-word',\n        children: []\n    },\n    {\n        title: '模型自学习',\n        key: 'auto-lm',\n        children: []\n    }\n];\n\nconst changeTreeNode = (service,treeData) =>{\n    treeData.forEach(item=>{\n        if(service.service_name===item.key){\n            item.children = service.project_list.map(project=>({key:item.key+'@'+project.name,title:project.desc,default:project.default}))\n            return\n        }else if(item.children&&item.children.length>0){\n            changeTreeNode(service,item.children)\n        }\n    })\n}\n\nexport const createTreeData = list =>{\n\n    console.log(\"first\",allTreeData)\n    if(list&&list.length>0){\n        list.forEach(item=>{\n            changeTreeNode(item,allTreeData)\n        })\n    }\n    console.log(\"last\",allTreeData)\n    return allTreeData\n}\n\nexport const getTreeDataDefault = list =>{\n    let defaultKeys = []\n    if(list&&list.length>0){\n        list.forEach(item=>{\n            item.project_list.forEach(itemChild=>{\n                if(itemChild.default === 1){\n                    defaultKeys.push(item.service_name+\"@\"+itemChild.name)\n                }\n            })\n        })\n    }\n    return defaultKeys\n}\n\nexport const tranSelected2Services = list =>{\n    let services = {}\n    let notFirst = list.filter(item=>item.indexOf('@')!==-1)\n    let isFirst = list.filter(item=>item.indexOf('@')===-1)\n    isFirst.forEach(item=>{\n        services[item]=[]\n    })\n    notFirst.forEach(item=>{\n        let arr = item.split(\"@\")\n        if(arr[0] in services){\n            services[arr[0]].push(arr[1])\n        }else{\n            services[arr[0]] = [arr[1]]\n        }\n    })\n    delete services.correction\n    delete services.aftertreatment\n    return services\n}","export const GET_SERVICES = \"register/GET_SERVICES\"\nexport const CHANGE_DEFAULTKEYS = \"register/CHANGE_DEFAULTKEYS\"","import * as constants from './constants'\nimport {fromJS} from 'immutable'\nconst defaultState = fromJS({\n    services:[],\n    defaultList:[]\n})\n\nexport default (state = defaultState, action)=>{\n    switch(action.type){\n        case constants.GET_SERVICES:\n            return state.set('services',action.services);\n        case constants.CHANGE_DEFAULTKEYS:\n            return state.set('defaultList',action.value);\n        default:\n            return state;\n    }\n}","import * as constants from './constants'\nimport { get } from '../../../utils/ajax'\nimport { createTreeData, getTreeDataDefault } from '../config'\n\nexport const handlePageInit = () =>{\n    return (dispatch) => {\n        let url = 'api/v1/user/services-list/'\n        get({ url }).then(res=>{\n            console.log(res)\n            dispatch(changeDefaultKeys(getTreeDataDefault(res.data)))\n            dispatch(getServices(createTreeData(res.data)))\n        }).catch(res=>{\n            console.log(res)\n        })\n    } \n}\n\nconst getServices = services =>({\n    type:constants.GET_SERVICES,\n    services // treeData\n})\n\nexport const changeDefaultKeys = defaultList=>({\n    type:constants.CHANGE_DEFAULTKEYS,\n    value:defaultList\n})\n\n","// 旨在封装error code 后期可以翻译\nconst errorCodes = {\n    10000 :'success',\n\n    11001 : '用户名或密码错误',\n    11002 : '用户名已存在',\n    11003 : '邮箱已存在',\n    11004 : '注册信息错误',\n    11005 : '密码更改错误',\n    11006 : 'token刷新失败',\n    11007 : '用户未被批准，请联系管理员。',\n\n    10001 : '规则纠错服务错误',\n    10002 : '更新用户项目列表失败',\n    10003 : '你没有该项目权限',\n    10004 : '用户规则表未找到',\n    10005 : '智能纠错服务错误',\n    10006 : '标点预测服务错误',\n    10007 : '文本分割服务错误',\n    10015 : '训练集上传失败，服务错误',\n    10016 : '训练集上传失败，文件名重复',\n    10017 : '训练集上传失败，文件名重复',\n    10018 : '训练集上传失败，文件名重复',\n    10019 : '训练集上传失败，文件名重复',\n    10020 : '环境名已存在',\n}\n\nexport default errorCodes;","export default {\n    '/': {}\n  }\n  ","import axios from 'axios';\nimport _ from 'lodash';\nimport xss from 'xss';\nimport { message } from 'antd';\nimport errorCodes from './errorCode';\nimport mockData from '../mock';\n\nimport { setAuthToken, getToken,setUserInfo } from './localStorage'\n\n\naxios.defaults.baseURL = 'http://10.186.0.210:8001/';\naxios.defaults.timeout = 10000; // 请求超时10s\naxios.defaults.withCredentials = true; // 用于跨域：开启withCredentials后，服务器才能拿到你的cookie，当然后端服务器也要设置允许你获取你开启了才有用\n\n// 添加请求拦截器\n// axios.interceptors.request.use(function (config) {\n//     // 在发送请求之前做些什么\n//     return config;\n// }, function (error) {\n//     // 对请求错误做些什么\n//     return Promise.reject(error);\n// });\n\n// 添加响应拦截器\naxios.interceptors.response.use((res) => {\n    // 否则的话抛出错误\n    console.log('response', res)\n    if (res.status === 200||res.status === 201) {\n        if(res.data.err_code !== 10000){// 非10000为失败状态\n            message.error(errorCodes[res.data.err_code] || res.data.message || '请求存在错误');\n            return Promise.reject(res);\n        }else{\n            return Promise.resolve(res);\n        }\n        \n    } else {\n        console.log(res.status)\n        return Promise.reject(res);\n    }\n}, (err) => {\n    let res = err.response\n    // 走switch 处理401/403/500\n    if(res&&res.status){\n        switch(res.status)\n        {\n            case 401:\n                // 表示未登录与token失效 \n                // 处理方法：1.检查localStorage是否为空\n                // 2.为空为未登录状态，跳到登陆页\n                // 3.不为空为token失效或者错误状态，刷新token\n                // 4.刷新token成功，更新token，否则清空用户信息跳登陆\n                console.log('401')\n                if(!getToken()){\n                    localStorage.removeItem('refreshToken')\n                    setHeaderAuth()\n                    setAuthToken()\n                    setUserInfo()\n                    window.location.pathname=\"/login\"\n                }else{\n                    let newToken = refreshToken(localStorage.getItem('refreshToken'))\n                    if(newToken){\n                        setAuthToken(res.data.access)\n                    }else{\n                        localStorage.removeItem('refreshToken')\n                        setHeaderAuth()\n                        setAuthToken()\n                        setUserInfo()\n                        window.location.pathname=\"/login\"   \n                    }\n                }\n                break;\n            case 403:\n                // 提示无权访问\n                console.log('403')\n                message.error(errorCodes[res.data.err_code] || res.data.message || '无权访问');\n                break;\n            case 500:\n                // 提示重新请求\n                console.log('500')\n                message.error(errorCodes[res.data.err_code] || res.data.message || '服务错误，请刷新重试');\n                break;\n            default:\n                message.error(errorCodes[res.data.err_code] || res.data.message || '系统错误');\n        }\n    }\n   \n    return Promise.reject(err)\n});\n\n/**\n * refreshToken方法，当token过期时使用\n */\nfunction refreshToken(refreshToken) {\n    post({\n        url:'/10.186.0.210:8001/api/v1/user/token-refresh/',\n        params:{refresh:refreshToken}\n    }).then(res=>{\n        if(res.data.err_code===10000){\n            return res.data.access\n        }\n        return null\n    })\n}\n\n/**\n * setAuthToken方法，当重新给请求header添加或删除token时使用\n */\n\nexport function setHeaderAuth(token) {\n    if(token){\n        axios.defaults.headers.common['Authorization'] = 'JWT '+token \n    }else{\n        // 没有token就移除\n        delete axios.defaults.headers.common['Authorization'];\n    }\n}\n\n/**\n * get方法，对应get请求\n * @param { String } url [请求的url地址]\n * @param {Object} params [请求时携带的参数]\n * @param {Object} headers [请求时axios get请求的header设置]\n * @param {Object} extraParams [请求时axios get请求的额外设置]\n * @param {Boolean} useGeneralTip [请求返回是否要全局提示]\n */\n\n\nexport function get({\n    url, params, headers={}, extraParams={}, mock=false, useGeneralTip=true,\n}) {\n    if (window.location.hostname === 'localhost' && mock) {\n        return new Promise((resolve) => {\n            setTimeout(() => {\n                resolve(mockData[url])\n            }, 1000)\n        })\n    }\n    // xss\n    const xssParams = {};\n    _.map(params, (v, k) => {\n        xssParams[k] = xss.filterXSS(v);\n    });\n    params = xssParams;\n\n    return request({url,method:'get', params, headers, extraParams, useGeneralTip})\n}\n\n/**\n * postJson方法，对应post请求\n * @param {String} url [请求的url地址]\n * @param {Object} params [请求时携带的参数]\n */\n\nexport function post({\n    url, params, headers={}, extraParams={}, mock=false, useGeneralTip=true,\n}) {\n    if (window.location.hostname === 'localhost' && mock) {\n        return new Promise((resolve) => {\n            setTimeout(() => {\n                resolve(mockData[url])\n            }, 1000)\n        })\n    }\n    return request({url,method:'post', params, headers, extraParams, useGeneralTip})\n}\n\nexport function put({\n    url, params, headers={}, extraParams={}, useGeneralTip=true,\n}) {\n    return request({url,method:'put', params, headers, extraParams, useGeneralTip})\n}\n\nexport function deleteMethod({\n    url, params, headers={}, extraParams={}, useGeneralTip=true,\n}) {\n    return request({url,method:'delete', params, headers, extraParams, useGeneralTip})\n}\n\nfunction request({\n    url, method, params, headers, extraParams, useGeneralTip\n}) {\n    return new Promise((resolve, reject) => {\n        axios\n        .request({\n            method,\n            url:'/' + url,\n            data:params,\n            ...extraParams,\n            headers\n        })\n        .then((res) => {\n            if (res.data && res.data.err_code !== 10000 && useGeneralTip) {\n                message.error(errorCodes[res.data.err_code] || res.data.message || '系统错误');\n            }\n            resolve(res.data);\n        })\n        .catch((err) => {\n            reject(err);\n        });\n    });\n}\n\nexport default {\n    get,\n    post,\n    put,\n    deleteMethod\n};\n  \n\n  ","export const CHANGE_TABLEDATA = \"trainModel/CHANGE_TABLEDATA\"\nexport const DELETE_TABLEITEM = \"trainModel/DELETE_TABLEITEM\"\nexport const CHANGE_ENV = \"trainModel/CHANGE_ENV\"\n","import * as constants from './constants'\nimport {fromJS} from 'immutable'\nconst defaultState = fromJS({\n    tableData:[],\n    envs:[]\n})\n\nexport default (state = defaultState, action)=>{\n    switch(action.type){\n        case constants.CHANGE_TABLEDATA:\n            return state.set('tableData',action.value);\n        case constants.DELETE_TABLEITEM:\n            let tableData = state.get('tableData')\n            tableData.splice(action.value,1)\n            tableData = Object.assign([],tableData) // 为了改变引用\n            return state.set('tableData',tableData);\n\n        \n        case constants.CHANGE_ENV:\n            return state.set('envs',action.value);\n        default:\n            return state;\n    }\n}","import * as constants from './constants'\nimport { get,post } from '../../../../utils/ajax'\n\nconst changeTableData = value =>({\n    type:constants.CHANGE_TABLEDATA,\n    value\n})\n\nexport const handleInitTableData=()=>{\n    return (dispatch)=>{\n\n        let url= 'api/v1/auto-lm/lm-task/?task_type=start_task'\n        get({url}).then(res=>{\n\n            console.log(res)\n            dispatch(changeTableData(res.data))\n        })\n        // let tableData=[\n        //     {\n        //       key: '1',\n        //       projectName: 'd1',\n        //       audioModel: 'audio1.mdl',\n        //       trainSet: ['train1.txt','train2.txt'],\n        //       testSet: 'test1.txt',\n        //       isOptimised: true,\n        //       testWordPercentage: 85.32,\n        //       testSenPercentage: 80.32,\n        //       testDecodeFile: 'decode1.txt',\n        //       createTime: '2020/7/23'\n        //     },\n        //     {\n        //         key: '2',\n        //         projectName: 'd1',\n        //         audioModel: 'audio2.mdl',\n        //         trainSet: ['train1.txt','train2.txt'],\n        //         testSet: 'test1.txt',\n        //         isOptimised: false,\n        //         testWordPercentage: 85.32,\n        //         testSenPercentage: 80.32,\n        //         testDecodeFile: 'decode1.txt',\n        //         createTime: '2020/7/23'\n        //     },\n        //     {\n        //         key: '3',\n        //         projectName: 'd1',\n        //         audioModel: 'audio3.mdl',\n        //         trainSet: ['train1.txt','train2.txt'],\n        //         testSet: 'test1.txt',\n        //         isOptimised: true,\n        //         testWordPercentage: 85.32,\n        //         testSenPercentage: 80.32,\n        //         testDecodeFile: 'decode1.txt',\n        //         createTime: '2020/7/23'\n        //     },\n        //   ]\n\n        \n\n        // let url = '/10.186.0.210:8001/api/v1/post-process/rules-correct/'\n        // post({url,params:{}}).then(res=>{\n        //     dispatch(changeTableData(res.data.result))\n        // }).catch(res=>{\n\n        // })\n    }\n}\n\nconst deleteTableItem = value =>({\n    type:constants.DELETE_TABLEITEM,\n    value\n})\n\nexport const handleDeleteTableItem=(index,data)=>{\n    return (dispatch)=>{\n        // delete 操作\n        let url = 'api/v1/auto-lm/lm-task/'\n        let myData = JSON.parse(JSON.stringify(data))\n        myData.task_type = 'delete_task'\n        post({url,params:myData}).then(res=>{\n            dispatch(deleteTableItem(index))\n        }).catch(res=>{\n\n        })\n        \n    }\n}\n\nconst changeEnv = value =>({\n    type:constants.CHANGE_ENV,\n    value\n})\n\nexport const handleChangeEnv=()=>{\n    return (dispatch)=>{\n        let url ='api/v1/auto-lm/lm-env/'\n        get({url}).then(res=>{\n            dispatch(changeEnv(res.data.env))\n        })\n    }\n}\n","export const CHANGE_TABLEDATA = \"trainSet/CHANGE_TABLEDATA\"\nexport const DELETE_TABLEITEM = \"trainSet/DELETE_TABLEITEM\"\n","import * as constants from './constants'\nimport {fromJS} from 'immutable'\nconst defaultState = fromJS({\n    tableData:[\n        // {\n        //     key: '1',\n        //     trainSetName: 'train1.txt',\n        //     trainSetDesc: '包含xx',\n        //     createTime: '2020/7/23'\n        // },\n        // {\n        //     key: '2',\n        //     trainSetName: 'train2.txt',\n        //     trainSetDesc: '包含xx',\n        //     createTime: '2020/7/23'\n        // },\n        // {\n        //     key: '3',\n        //     trainSetName: 'train3.txt',\n        //     trainSetDesc: '包含xx',\n        //     createTime: '2020/7/23'\n        // }\n      ]\n})\n\nexport default (state = defaultState, action)=>{\n    switch(action.type){\n        case constants.CHANGE_TABLEDATA:\n            return state.set('tableData',action.value);\n        case constants.DELETE_TABLEITEM:\n            let tableData = state.get('tableData')\n            tableData.splice(action.value,1)\n            tableData = Object.assign([],tableData) // 为了改变引用\n            return state.set('tableData',tableData)\n        default:\n            return state;\n    }\n}","import * as constants from './constants'\nimport { get } from '../../../../utils/ajax'\nimport axios from 'axios'\n\nconst changeTableData = value =>({\n    type:constants.CHANGE_TABLEDATA,\n    value\n})\n\nexport const handleInitTableData=()=>{\n    return (dispatch)=>{\n        let url = 'api/v1/auto-lm/trainset/'\n        get({url}).then(res=>{\n            console.log(res)\n            dispatch(changeTableData(res.data))\n        }).catch(res=>{\n\n        })\n    }\n}\n\nconst deleteTableItem = value =>({\n    type:constants.DELETE_TABLEITEM,\n    value\n})\n\nexport const handleDeleteTableItem=(index,data)=>{\n    return (dispatch)=>{\n        // delete 操作\n        const formData = new FormData();\n        formData.append('file_id', data.file_id);\n        formData.append('msg_type','delete')\n        formData.append('env_name',data.env_name)\n        let instance = axios.create({\n            baseURL:'http://10.186.0.210:8001/',\n            timeout:1000,\n            headers:{\"Content-Type\":\"multipart/form-data\"}\n        })\n        let url = 'api/v1/auto-lm/trainset/'\n        console.log(url)\n\n        instance.post(url,formData).then(res=>{\n            console.log(res)\n            dispatch(deleteTableItem(index))\n        })\n        \n    }\n}\n","export const CHANGE_TABLEDATA = \"audioModel/CHANGE_TABLEDATA\"\nexport const DELETE_TABLEITEM = \"audioModel/DELETE_TABLEITEM\"\n","import * as constants from './constants'\nimport {fromJS} from 'immutable'\nconst defaultState = fromJS({\n    tableData:[\n        // {\n        //     key: '1',\n        //     audioModelName: 'audioModel1.mdl',\n        //     audioModelDesc: '包含xx',\n        //     createTime: '2020/7/23'\n        // },\n        // {\n        //     key: '2',\n        //     audioModelName: 'audioModel2.mdl',\n        //     audioModelDesc: '包含xx',\n        //     createTime: '2020/7/23'\n        // },\n        // {\n        //     key: '3',\n        //     audioModelName: 'audioModel3.mdl',\n        //     audioModelDesc: '包含xx',\n        //     createTime: '2020/7/23'\n        // }\n      ]\n})\n\nexport default (state = defaultState, action)=>{\n    switch(action.type){\n        case constants.CHANGE_TABLEDATA:\n            return state.set('tableData',action.value);\n        case constants.DELETE_TABLEITEM:\n            let tableData = state.get('tableData')\n            tableData.splice(action.value,1)\n            tableData = Object.assign([],tableData)\n            return state.set('tableData',tableData);\n        default:\n            return state;\n    }\n}","import * as constants from './constants'\nimport { get } from '../../../../utils/ajax'\nimport axios from 'axios'\n\nconst changeTableData = value =>({\n    type:constants.CHANGE_TABLEDATA,\n    value\n})\n\nexport const handleInitTableData=()=>{\n    return (dispatch)=>{\n        let url = 'api/v1/auto-lm/acoustic-model/'\n        get({url}).then(res=>{\n            dispatch(changeTableData(res.data))\n        }).catch(res=>{\n\n        })\n    }\n}\n\nconst deleteTableItem = value =>({\n    type:constants.DELETE_TABLEITEM,\n    value\n})\n\nexport const handleDeleteTableItem=(index,data)=>{\n    return (dispatch)=>{\n        // delete 操作\n        const formData = new FormData();\n        formData.append('file_id', data.file_id);\n        formData.append('msg_type','delete')\n        formData.append('env_name',data.env_name)\n        let instance = axios.create({\n            baseURL:'http://10.186.0.210:8001/',\n            timeout:1000,\n            headers:{\"Content-Type\":\"multipart/form-data\"}\n        })\n        let url = 'api/v1/auto-lm/acoustic-model/'\n        console.log(url)\n\n        instance.post(url,formData).then(res=>{\n            console.log(res)\n            dispatch(deleteTableItem(index))\n        })\n        \n    }\n}\n","export const CHANGE_TABLEDATA = \"testSet/CHANGE_TABLEDATA\"\nexport const DELETE_TABLEITEM = \"testSet/DELETE_TABLEITEM\"\n","import * as constants from './constants'\nimport {fromJS} from 'immutable'\nconst defaultState = fromJS({\n    tableData:[\n        // {\n        //     key: '1',\n        //     testSetName: 'test1.txt',\n        //     testSetDesc: '包含xx',\n        //     createTime: '2020/7/23'\n        // },\n        // {\n        //     key: '2',\n        //     testSetName: 'test2.txt',\n        //     testSetDesc: '包含xx',\n        //     createTime: '2020/7/23'\n        // },\n        // {\n        //     key: '3',\n        //     testSetName: 'test3.txt',\n        //     testSetDesc: '包含xx',\n        //     createTime: '2020/7/23'\n        // }\n      ]\n})\n\nexport default (state = defaultState, action)=>{\n    switch(action.type){\n        case constants.CHANGE_TABLEDATA:\n            return state.set('tableData',action.value);\n        case constants.DELETE_TABLEITEM:\n            let tableData = state.get('tableData')\n            tableData.splice(action.value,1)\n            tableData = Object.assign([],tableData)\n            return state.set('tableData',tableData);\n        default:\n            return state;\n    }\n}","import * as constants from './constants'\nimport { get } from '../../../../utils/ajax'\nimport axios from 'axios'\n\nconst changeTableData = value =>({\n    type:constants.CHANGE_TABLEDATA,\n    value\n})\n\nexport const handleInitTableData=()=>{\n    return (dispatch)=>{\n        let url = 'api/v1/auto-lm/testset/'\n        get({url}).then(res=>{\n            dispatch(changeTableData(res.data))\n        }).catch(res=>{\n\n        })\n    }\n}\n\nconst deleteTableItem = value =>({\n    type:constants.DELETE_TABLEITEM,\n    value\n})\n\nexport const handleDeleteTableItem=(index,data)=>{\n    return (dispatch)=>{\n        // delete 操作\n        const formData = new FormData();\n        formData.append('file_id', data.file_id);\n        formData.append('msg_type','delete')\n        formData.append('env_name',data.env_name)\n        let instance = axios.create({\n            baseURL:'http://10.186.0.210:8001/',\n            timeout:1000,\n            headers:{\"Content-Type\":\"multipart/form-data\"}\n        })\n        let url = 'api/v1/auto-lm/testset/'\n        console.log(url)\n\n        instance.post(url,formData).then(res=>{\n            console.log(res)\n            dispatch(deleteTableItem(index))\n        })\n        \n    }\n}\n","export const GET_PROJECTS = \"correction/GET_PROJECTS\"\nexport const CHANGE_RULESPROJECT = \"correction/CHANGE_RULESPROJECT\"\nexport const CHANGE_CORRECTIONS = \"correction/CHANGE_CORRECTIONS\"\nexport const CHANGE_RULESFIXRESULT = \"correction/CHANGE_RULESFIXRESULT\"\n\n\nexport const CHANGE_WFSTPROJECTS = \"correction/CHANGE_WFSTPROJECTS\"\nexport const CHANGE_WFSTPROJECT = \"correction/CHANGE_WFSTPROJECT\"\nexport const CHANGE_WFSTCORRECTIONS = \"correction/CHANGE_WFSTCORRECTIONS\"\nexport const CHANGE_WFSTFIXRESULT = \"correction/CHANGE_WFSTFIXRESULT\"\n\n\nexport const CHANGE_COLLAPSESTATUS = \"correction/CHANGE_COLLAPSESTATUS\"","import * as constants from './constants'\nimport {fromJS} from 'immutable'\nconst defaultState = fromJS({\n    projects:[],\n    selectedProject:'',\n    corrections:'',\n    rulesFixResult:'',\n    wfstProjects:[],\n    selectedWfstProject:'',\n    wfstCorrections:'',\n    wfstFixResult:'',\n    collapsed:false\n})\n\nexport default (state = defaultState, action)=>{\n    switch(action.type){\n        case constants.GET_PROJECTS:\n            return state.set('projects',action.value);\n        case constants.CHANGE_RULESPROJECT:\n            return state.set('selectedProject',action.value);\n        case constants.CHANGE_CORRECTIONS:\n            return state.set('corrections',action.corrections); \n        case constants.CHANGE_RULESFIXRESULT:\n            return state.set('rulesFixResult',action.value);\n\n        case constants.CHANGE_WFSTPROJECTS:\n            return state.set('wfstProjects',action.value);\n        case constants.CHANGE_WFSTPROJECT:\n            return state.set('selectedWfstProject',action.value);\n        case constants.CHANGE_WFSTCORRECTIONS:\n            return state.set('wfstCorrections',action.corrections);\n        case constants.CHANGE_WFSTFIXRESULT:\n            return state.set('wfstFixResult',action.value);\n        \n        case constants.CHANGE_COLLAPSESTATUS:\n            return state.set('collapsed',action.value);\n        default:\n            return state;\n    }\n}","import * as constants from './constants'\nimport { get, post } from '../../../../utils/ajax'\n\nconst getProjects = projects =>({\n    type:constants.GET_PROJECTS,\n    value:projects\n})\n\nconst changeSelectedRulesProject = project =>({\n    type:constants.CHANGE_RULESPROJECT,\n    value:project\n})\n\nexport const changeRulesCorrections = corrections =>({\n    type:constants.CHANGE_CORRECTIONS,\n    corrections\n})\n\n\nexport function handleRulesInit(){\n    return (dispatch) => {\n        let url = 'api/v1/post-process/rules/'\n        get({ url }).then(res=>{\n            console.log(res)\n            async function f1() {\n                dispatch(getProjects(res.data.name))\n                if(res.data.name){\n                    let rules = await getRulesCorrections(res.data.name[0])\n                    dispatch(changeRulesCorrections(rules))\n                    dispatch(changeSelectedRulesProject(res.data.name[0]))\n                }\n            }\n            f1()\n            \n        }).catch(res=>{\n            console.log(res)\n        })\n    } \n}\n\nasync function getRulesCorrections(name){\n    let result\n    let url = \"api/v1/post-process/rules/\"+name+\"/\"\n    await get({url}).then(res=>{\n        let rules = \"\"\n        console.log(res.data.rules)\n        res.data.rules.forEach(item=>{\n            rules+=item.pre+'->'+item.after+'\\t'\n        })\n        console.log(\"change rules:\",rules)\n        result= rules\n    }).catch(res=>{\n\n    })\n    return result\n}\n\nconst changeRulesFixResult = value =>({\n    type:constants.CHANGE_RULESFIXRESULT,\n    value\n})\n\nexport const handleRulesFix=( selecedProject, text)=>{\n    return (dispatch)=>{\n        if(text&&text.trim()){\n            let url = 'api/v1/post-process/rules-correct/'+ selecedProject + '/'\n            post({url,params:{name:selecedProject,sent:text}}).then(res=>{\n                dispatch(changeRulesFixResult(res.data.result))\n            }).catch(res=>{\n\n            })\n        }else{\n            dispatch(changeRulesFixResult(''))\n        \n        }\n    }\n} \n\nexport const handleChangeRulesProject=(project)=>{\n    return (dispatch)=>{\n        if(project){\n            async function f1() {\n                let rules = await getRulesCorrections(project)\n                dispatch(changeSelectedRulesProject(project))\n                dispatch(changeRulesCorrections(rules))\n            }\n            f1()\n        }\n    }\n}\n\n\nexport const handleWfstInit = () =>{\n    return (dispatch) => {\n        let url = 'api/v1/post-process/wfst/'\n        get({ url }).then(res=>{\n            console.log(res)\n            async function f1() {\n                dispatch(changeWfstProjects(res.data.name))\n                if(res.data.name){\n                    let rules = await getWfstCorrections(res.data.name[0])\n                    dispatch(changeSelectedWftsProject(res.data.name[0]))\n                    dispatch(changeWfstCorrections(rules))\n                }\n            }\n            f1()\n        }).catch(res=>{\n            console.log(res)\n        })\n    } \n}\n\nconst changeWfstProjects = projects =>({\n    type:constants.CHANGE_WFSTPROJECTS,\n    value:projects\n})\n\nconst changeSelectedWftsProject = project =>({\n    type:constants.CHANGE_WFSTPROJECT,\n    value:project\n})\n\nconst changeWfstFixResult = value =>({\n    type:constants.CHANGE_WFSTFIXRESULT,\n    value\n})\n\nexport const handleWfstFix=( selecedProject, text)=>{\n    return (dispatch)=>{\n        if(text&&text.trim()){\n            let url = 'api/v1/post-process/wfst-correct/'+ selecedProject + '/'\n            post({url,params:{name:selecedProject,sent:text}}).then(res=>{\n                dispatch(changeWfstFixResult(res.data.result))\n            }).catch(res=>{\n\n            })\n        }else{\n            dispatch(changeWfstFixResult(''))\n        \n        }\n    }\n} \n\nexport const handleChangeWfstProject=(project)=>{\n    return (dispatch)=>{\n        if(project){\n            async function f1() {\n                let rules = await getWfstCorrections(project)\n                dispatch(changeSelectedWftsProject(project))\n                dispatch(changeWfstCorrections(rules))\n            }\n            f1()\n        }\n    }\n}\n\nconst changeWfstCorrections = corrections =>({\n    type:constants.CHANGE_WFSTCORRECTIONS,\n    corrections\n})\n\nasync function getWfstCorrections(name){\n    let result\n    let url = \"api/v1/post-process/wfst/\"+name+\"/\"\n    await get({url}).then(res=>{\n        let rules = \"\"\n        console.log(res.data.rules)\n        res.data.rules.forEach(item=>{\n            rules+=item.word+'\\t'\n        })\n        console.log(\"change rules:\",rules)\n        result= rules\n    }).catch(res=>{\n\n    })\n    return result\n}\n\nexport const changeCollapseStatus = status =>({\n    type:constants.CHANGE_COLLAPSESTATUS,\n    value:status\n})","export const CHANGE_PUNCFIXRESULT = \"correction/CHANGE_PUNCFIXRESULT\"\n","import * as constants from './constants'\nimport {fromJS} from 'immutable'\nconst defaultState = fromJS({\n    puncFixResult:''\n})\n\nexport default (state = defaultState, action)=>{\n    switch(action.type){\n        case constants.CHANGE_PUNCFIXRESULT:\n            return state.set('puncFixResult',action.value);\n        default:\n            return state;\n    }\n}","import * as constants from './constants'\nimport { post } from '../../../../utils/ajax'\n\nconst changePuncFixResult = value =>({\n    type:constants.CHANGE_PUNCFIXRESULT,\n    value\n})\n\nexport const handlePuncFix=(text)=>{\n    return (dispatch)=>{\n        if(text&&text.trim()){\n            let url = 'api/v1/post-process/punc-predict/'\n            post({url,params:{sent:text}}).then(res=>{\n                dispatch(changePuncFixResult(res.data.result))\n            }).catch(res=>{\n\n            })\n        }else{\n            dispatch(changePuncFixResult(''))\n        \n        }\n    }\n} \n","export const CHANGE_TEXTSPLITFIXRESULT = \"text/CHANGE_TEXTSPLITFIXRESULT\"\n","import * as constants from './constants'\nimport {fromJS} from 'immutable'\nconst defaultState = fromJS({\n    textSplitFixResult:''\n})\n\nexport default (state = defaultState, action)=>{\n    switch(action.type){\n        case constants.CHANGE_TEXTSPLITFIXRESULT:\n            return state.set('textSplitFixResult',action.value);\n        default:\n            return state;\n    }\n}","import * as constants from './constants'\nimport { post } from '../../../../utils/ajax'\n\nconst changeTextSplitFixResult = value =>({\n    type:constants.CHANGE_TEXTSPLITFIXRESULT,\n    value\n})\n\nexport const handleTextSplitFix=(text)=>{\n    return (dispatch)=>{\n        if(text&&text.trim()){\n            let url = 'api/v1/post-process/text-split/'\n            post({url,params:{sent:text}}).then(res=>{\n                dispatch(changeTextSplitFixResult(res.data.result))\n            }).catch(res=>{\n\n            })\n        }else{\n            dispatch(changeTextSplitFixResult(''))\n        \n        }\n    }\n} \n","export const GET_PROJECTS = \"hotword/GET_PROJECTS\"\nexport const CHANGE_PROJECT = \"hotword/CHANGE_PROJECT\"\nexport const CHANGE_CORRECTIONS = \"hotword/CHANGE_CORRECTIONS\"\nexport const CHANGE_RULESFIXRESULT = \"hotword/CHANGE_RULESFIXRESULT\"","import * as constants from './constants'\nimport {fromJS} from 'immutable'\nconst defaultState = fromJS({\n    projects:[],\n    selectedProject:{},\n    corrections:'',\n    rulesFixResult:''\n})\n\nexport default (state = defaultState, action)=>{\n    switch(action.type){\n        case constants.GET_PROJECTS:\n            return state.set('projects',action.value);\n        case constants.CHANGE_PROJECT:\n            return state.set('selectedProject',action.value);\n        case constants.CHANGE_CORRECTIONS:\n            return state.set('corrections',action.corrections); \n        case constants.CHANGE_RULESFIXRESULT:\n            return state.set('rulesFixResult',action.value);\n        default:\n            return state;\n    }\n}","import * as constants from './constants'\nimport { get } from '../../../../utils/ajax'\n\nconst getProjects = projects =>({\n    type:constants.GET_PROJECTS,\n    value:projects\n})\n\nconst changeSelectedProject = project =>({\n    type:constants.CHANGE_PROJECT,\n    value:project\n})\n\nconst changeHotwordCorrections = corrections =>({\n    type:constants.CHANGE_CORRECTIONS,\n    corrections\n})\n\n\nexport const handlePageInit = () =>{\n    return (dispatch) => {\n        let url = 'api/v1/hotword/conf/'\n        get({ url }).then(res=>{\n            console.log(res)\n            let projects = res.data.projects\n            console.log(projects[0])\n            async function f1(){\n                dispatch(getProjects(projects))\n                if(projects){\n                    let rules = await getHotWords(projects[0].name)\n                    dispatch(changeSelectedProject(projects[0]))\n                    dispatch(changeHotwordCorrections(rules))\n                }\n            }\n            f1()\n            \n        }).catch(res=>{\n            console.log(res)\n        })\n    } \n}\n\nexport const handleChangeSelectedProject=(project)=>{\n    return (dispatch)=>{\n        async function f1() {\n            let rules = await getHotWords(project.name)\n            dispatch(changeSelectedProject(project))\n            dispatch(changeHotwordCorrections(rules))\n        }\n        f1()\n    }\n}\n\nasync function getHotWords(name){\n    let result=\"\"\n    let url = \"api/v1/hotword/conf/\"+name+\"/\"\n    await get({url}).then(res=>{\n        console.log(res.data.words)\n        res.data.words.forEach(item => {\n            result+=item.word+'->'+item.hot_value+'\\t'\n        })\n    }).catch(res=>{\n        console.log(res)\n    })\n    console.log(result)\n    return result\n}\n\nexport const changeFixResult = value =>({\n    type:constants.CHANGE_RULESFIXRESULT,\n    value\n})\n","export const CHANGE_TABLEDATA = \"env/CHANGE_TABLEDATA\"\nexport const DELETE_TABLEITEM = \"env/DELETE_TABLEITEM\"\n","import * as constants from './constants'\nimport {fromJS} from 'immutable'\nconst defaultState = fromJS({\n    tableData:[\n        // {\n        //     key: '1',\n        //     testSetName: 'test1.txt',\n        //     testSetDesc: '包含xx',\n        //     createTime: '2020/7/23'\n        // },\n        // {\n        //     key: '2',\n        //     testSetName: 'test2.txt',\n        //     testSetDesc: '包含xx',\n        //     createTime: '2020/7/23'\n        // },\n        // {\n        //     key: '3',\n        //     testSetName: 'test3.txt',\n        //     testSetDesc: '包含xx',\n        //     createTime: '2020/7/23'\n        // }\n      ]\n})\n\nexport default (state = defaultState, action)=>{\n    switch(action.type){\n        case constants.CHANGE_TABLEDATA:\n            return state.set('tableData',action.value);\n        case constants.DELETE_TABLEITEM:\n            let tableData = state.get('tableData')\n            tableData.splice(action.value,1)\n            tableData = Object.assign([],tableData)\n            return state.set('tableData',tableData);\n        default:\n            return state;\n    }\n}","import * as constants from './constants'\nimport { get, deleteMethod } from '../../../../utils/ajax'\n\nconst changeTableData = value =>({\n    type:constants.CHANGE_TABLEDATA,\n    value\n})\n\nexport const handleInitTableData=()=>{\n    return (dispatch)=>{\n        let url = 'api/v1/auto-lm/lm-env/'\n        get({url}).then(res=>{\n            console.log(res.data.env)\n            let result = []\n            ;(async () => {\n                await Promise.all(res.data.env.map(item=>\n                    getEnvDetail('api/v1/auto-lm/lm-env/'+item.name)\n                )).then(arr=>{\n                    arr.forEach(arrItem=>{\n                        result.push(arrItem.data)\n                    })\n                })\n                dispatch(changeTableData(result))\n            })()\n        }).catch(res=>{\n\n        })\n    }\n}\n\nconst getEnvDetail=(url)=> new Promise((resolve,reject)=>{\n    console.log(url)\n    get({url}).then(res=>{\n        console.log(res)\n        resolve(res)\n    }).catch(res=>{\n        reject(res)\n    })\n})\n\n\nconst deleteTableItem = value =>({\n    type:constants.DELETE_TABLEITEM,\n    value\n})\n\nexport const handleDeleteTableItem=(index,data)=>{\n    return (dispatch)=>{\n        // delete 操作\n        let url = 'api/v1/auto-lm/lm-env/'+data.env_name\n        deleteMethod({url,params:{env_name:data.env_name}}).then(res=>{\n            dispatch(deleteTableItem(index))\n        })\n    }\n}\n","import styled from 'styled-components'\n\nexport const LoginWrapper = styled.main`\n    position:absolute;\n    left:0;\n    right:0;\n    bottom:0;\n    top:64px;\n    background:#f1f2f5;\n    z-index:0;\n`\n\nexport const LoginBox = styled.div`\n    width: 535px;\n    margin: 80px auto 190px;\n    box-sizing:border-box;\n    padding: 50px 80px 30px 30px;\n    background-color: #fff;\n    border-radius: 4px;\n    box-shadow: 0 0 8px rgba(0,0,0,.1);\n    vertical-align: middle;\n    display: block;\n`","import React, {Component} from 'react'\nimport { connect } from 'react-redux'\nimport { Redirect } from 'react-router-dom'\nimport { actionCreators } from './store'\nimport { Form, Input, Button, Checkbox } from 'antd';\nimport { LoginWrapper, LoginBox } from './style'\nimport Footer from '../../layout/footer';\n\nconst layout = {\n  labelCol: { span: 8 },\n  wrapperCol: { span: 16 },\n};\nconst tailLayout = {\n  wrapperCol: { offset: 8, span: 16 },\n};\n\n\nclass Login extends Component{\n    render(){\n        const { loginStatus } = this.props;\n        if(!loginStatus){\n            return(\n                <LoginWrapper>\n                    <LoginBox>\n                        <Form\n                            {...layout}\n                            name=\"basic\"\n                            initialValues={{ remember: true }}\n                            onFinish={this.props.onFinish}\n                            onFinishFailed={this.props.onFinishFailed}\n                        >\n                            <Form.Item\n                                label=\"用户名\"\n                                name=\"username\"\n                                rules={[{ required: true, message: 'Please input your username or email!' }]}\n                            >\n                                <Input />\n                            </Form.Item>\n\n                            <Form.Item\n                                label=\"密码\"\n                                name=\"password\"\n                                rules={[{ required: true, message: 'Please input your password!' }]}\n                            >\n                                <Input.Password />\n                            </Form.Item>\n\n                            <Form.Item {...tailLayout} name=\"remember\" valuePropName=\"checked\">\n                                <Checkbox>记住我</Checkbox>\n                            </Form.Item>\n\n                            <Form.Item {...tailLayout}>\n                                <Button type=\"primary\" htmlType=\"submit\">\n                                    登录\n                                </Button>\n                            </Form.Item>\n                        </Form>\n                    </LoginBox>\n                    <Footer/>\n                </LoginWrapper>\n            )\n        }else{\n            return(\n                <Redirect to='/'/>\n            )\n        }\n\n    }\n}\n\nconst mapState = (state) =>({\n    loginStatus:state.getIn(['login','loginStatus'])\n})\n\nconst mapDispatch = (dispatch) =>({\n\n    onFinish(values){\n        console.log('Success:', values);\n        dispatch(actionCreators.handleLogin(values))\n    },\n    onFinishFailed(errorInfo){\n        console.log('Failed:', errorInfo);\n    }\n})\n\nexport default connect(mapState,mapDispatch)(Login);","import styled from 'styled-components'\n\nexport const RegisterWrapper = styled.div`\n    position:absolute;\n    left:0;\n    right:0;\n    top:64px;\n    background:#f1f2f5;\n    z-index:0;\n`\n\nexport const RegisterBox = styled.div`\n    width: 535px;\n    margin: 20px auto 0;\n    box-sizing:border-box;\n    padding: 50px 80px 30px 30px;\n    background-color: #fff;\n    border-radius: 4px;\n    box-shadow: 0 0 8px rgba(0,0,0,.1);\n    vertical-align: middle;\n    display: block;\n`","import React, {Component} from 'react'\nimport { connect } from 'react-redux'\nimport { Form, Input, Button, Tree, message } from 'antd';\nimport { actionCreators } from './store'\nimport { RegisterWrapper, RegisterBox } from './style'\nimport Footer from '../../layout/footer';\nimport {post} from '../../utils/ajax'\nimport { tranSelected2Services } from './config'\n\nconst layout = {\n  labelCol: { span: 8 },\n  wrapperCol: { span: 16 },\n};\nconst tailLayout = {\n  wrapperCol: { offset: 8, span: 16 },\n};\n\n\n\nclass Register extends Component{\n\n    handleRegister(params){\n        let url = 'api/v1/user/registration/'\n        post({url,params}).then(res=>{\n            message.success(\"申请注册成功，等待审核\")\n        }).catch(res=>{\n\n        })\n    }\n    onFinish = values => {\n        if(!values.services){\n            values.services = tranSelected2Services(this.props.selectedKeys) \n        }\n        this.handleRegister(values)\n    };\n\n    render(){\n        \n        \n        const onFinishFailed = errorInfo => {\n            console.log('Failed:', errorInfo);\n        };\n\n        const onSelect = (selectedKeys, info) => {\n            console.log('selected', selectedKeys, info);\n        };\n        const { treeData, selectedKeys,handleChangeTreeData } = this.props\n        return(\n            <RegisterWrapper>\n                <RegisterBox>\n                    <Form\n                        {...layout}\n                        name=\"basic\"\n                        onFinish={this.onFinish}\n                        onFinishFailed={onFinishFailed}\n                    >\n                        <Form.Item\n                            label=\"用户名\"\n                            name=\"username\"\n                            initialValue=\"\"\n                            rules={[{ required: true, message: '请输入用户名!' }]}\n                        >\n                            <Input />\n                        </Form.Item>\n\n                        <Form.Item\n                            label=\"密码\"\n                            name=\"password1\"\n                            initialValue=\"\"\n                            hasFeedback\n                            rules={[{ required: true, message: '请输入密码!' }]}\n                        >\n                            <Input.Password />\n                        </Form.Item>\n\n                        <Form.Item\n                            label=\"密码确认\"\n                            name=\"password2\"\n                            initialValue=\"\"\n                            dependencies={['password1']}\n                            hasFeedback\n                            rules={[\n                                { required: true, message: '请再次输入密码!' },\n                                ({ getFieldValue }) => ({\n                                    validator(rule, value) {\n                                      if (!value || getFieldValue('password1') === value) {\n                                        return Promise.resolve();\n                                      }\n                                      return Promise.reject('两次密码不一致!');\n                                    },\n                                  }),\n                            ]}\n                        >\n                            <Input.Password />\n                        </Form.Item>\n                        \n                        <Form.Item\n                            label=\"姓名\"\n                            name=\"full_name\"\n                            initialValue=\"\"\n                            rules={[{ required: true, message: '请输入你的姓名!' }]}\n                        >\n                            <Input />\n                        </Form.Item>\n\n                        <Form.Item\n                            label=\"工号\"\n                            name=\"eid\"\n                            initialValue=\"\"\n                            rules={[{ required: true, message: '请输入你的工号!' }]}\n                        >\n                            <Input />\n                        </Form.Item>\n\n                        <Form.Item\n                            label=\"邮箱\"\n                            name=\"email\"\n                            initialValue=\"\"\n                            rules={[{ required: true, type: 'email', message: '请输入你的邮箱!' }]}\n                        >\n                            <Input />\n                        </Form.Item>\n                        <Form.Item name=\"services\" label=\"开通项目权限\"\n                            // rules={[\n                            //     // { required: true, message: 'Please input your models!' },\n                            //     ({ getFieldValue }) => ({\n                            //         validator(rule, value) {\n                            //           if (selectedKeys.length!==0) {\n                            //               console.log(value)\n                            //             return Promise.resolve();\n                            //           }else{\n                            //               return Promise.reject('请选择开通的项目权限!');\n                            //           }\n                            //         },\n                            //       }),\n                            // ]}\n                        >\n                            <Tree\n                                checkable\n                                checkedKeys={selectedKeys}\n                                onSelect={onSelect}\n                                onCheck={handleChangeTreeData}\n                                treeData={treeData}\n                            />\n                        </Form.Item>\n\n                        <Form.Item\n                            label=\"申请用途描述\"\n                            name=\"desc\"\n                            initialValue=\"\"\n                            rules={[{ required: true, message: '请输入申请用途!' }]}\n                        >\n                            <Input.TextArea />\n                        </Form.Item>\n\n                        {/* <Form.Item\n                            label=\"备注\"\n                            name=\"note\"\n                        >\n                            <Input.TextArea />\n                        </Form.Item> */}\n\n                        <Form.Item {...tailLayout}>\n                            <Button type=\"primary\" htmlType=\"submit\">\n                                申请注册\n                            </Button>\n                        </Form.Item>\n                    </Form>\n                </RegisterBox>\n                <Footer/>\n            </RegisterWrapper>\n        )\n    }\n\n    componentDidMount(){\n        this.props.handlePageInit()\n    }\n}\n\nconst mapState = (state) =>({\n    treeData:state.getIn(['register','services']),\n    selectedKeys:state.getIn(['register','defaultList']),\n})\n\nconst mapDispatch = (dispatch) =>({\n    handlePageInit(){\n        dispatch(actionCreators.handlePageInit())\n    },\n    handleChangeTreeData(checkedKeys){\n        dispatch(actionCreators.changeDefaultKeys(checkedKeys))\n    }\n})\n\nexport default  connect(mapState,mapDispatch)(Register);","import styled from 'styled-components';\n\nexport const ContentWapper = styled.main`\n    margin:30px 10px 0;\n`\n\nexport const ContentBox = styled.div`\n    background:#fff;\n    padding: 0 20px;\n    min-height: calc(100vh - 156px);\n    line-height: calc(100vh - 156px);\n    text-align:center;\n`","import React, {Component} from 'react'\nimport {ContentWapper,ContentBox} from './style'\nclass Home extends Component{\n\n    render(){\n        return(  \n            <ContentWapper>\n              <ContentBox>\n              HI, 欢迎使用滴滴语音模型开放平台\n              </ContentBox>\n            </ContentWapper>\n            \n        )\n    }\n}\n\nexport default Home;","import React from 'react';\nimport {Spin, Alert} from 'antd';\n\nclass Loading extends React.Component {\n\trender() {\n\t\treturn (\n\t\t\t<div className=\"example\">\n\t\t\t\t<Spin tip=\"Loading...\"  size=\"large\" >\n\t\t\t\t<Alert\n\t\t\t\tmessage=\"Alert message title\"\n\t\t\t\tdescription=\"Further details about the context of this alert.\"\n\t\t\t\ttype=\"info\"\n\t\t\t\t/>\n\t\t\t\t</Spin>\n\t\t\t</div>\n\t\t)\n\t}\n}\n\nexport default Loading;","import Loadable from 'react-loadable'\nimport Loading from '../components/loading';\n\n// 需要异步加载的组件\nexport const Correction = Loadable({\n\tloader: () => import('../pages/aftertreatment/correction'),\n\tloading: Loading,\n});\n\nexport const Textsegmentation = Loadable({\n\tloader: () => import('../pages/aftertreatment/textsegmentation'),\n\tloading: Loading,\n});\n\nexport const Punctuationpred = Loadable({\n\tloader: () => import('../pages/aftertreatment/punctuationpred'),\n\tloading: Loading,\n});\n\nexport const HotwordUpdate = Loadable({\n\tloader: () => import('../pages/hotword/hotwordUpdate'),\n\tloading: Loading,\n});\n\nexport const TrainModel = Loadable({\n\tloader: () => import('../pages/autotraining/trainModel'),\n\tloading: Loading,\n});\n\nexport const Env = Loadable({\n\tloader: () => import('../pages/autotraining/env'),\n\tloading: Loading,\n});\n\nexport const AudioModel = Loadable({\n\tloader: () => import('../pages/autotraining/audioModel'),\n\tloading: Loading,\n});\n\nexport const Trainset = Loadable({\n\tloader: () => import('../pages/autotraining/trainset'),\n\tloading: Loading,\n});\n\nexport const Testset = Loadable({\n\tloader: () => import('../pages/autotraining/testset'),\n\tloading: Loading,\n});\n\nexport const Login = Loadable({\n\tloader: () => import('../pages/login'),\n\tloading: Loading,\n});\n\nexport const Register = Loadable({\n\tloader: () => import('../pages/register'),\n\tloading: Loading,\n});\n\n// 404\nexport const NoMatch = Loadable({\n\tloader: () => import('../pages/errors/page404'),\n\tloading: Loading,\n});\n\n// 500\nexport const ServerError = Loadable({\n\tloader: () => import('../pages/errors/page500'),\n\tloading: Loading,\n});\n\n","import React from 'react'\nimport { Switch,Redirect,Route } from 'react-router-dom'\nimport Home from '../pages/home'\nimport * as MyPages from './config'\n\nfunction Routes(){\n    return(\n        <Switch>\n            <Route exact path='/'>\n                <Redirect exact from='/' to='/home'/>\n            </Route>\n            <Route exact path='/home'  component={Home}  key=\"/home\"/>\n            <Route  path='/aftertreatment/correction' exact component={MyPages.Correction} key=\"/aftertreatment/correction\"/>\n            <Route  path='/aftertreatment/textsegmentation' exact component={MyPages.Textsegmentation}  key=\"/aftertreatment/textsegmentation\"/>\n            <Route  path='/aftertreatment/punctuationpred' exact component={MyPages.Punctuationpred}  key=\"/aftertreatment/punctuationpred\"/>\n            <Route  path='/hotword/update' exact component={MyPages.HotwordUpdate}  key=\"/hotword/update\"/>\n            <Route  path='/autotraining/model' exact component={MyPages.TrainModel}  key=\"/autotraining/model\"/>\n            <Route  path='/autotraining/env' exact component={MyPages.Env}  key=\"/autotraining/env\"/>\n            <Route  path='/autotraining/audiomodel' exact component={MyPages.AudioModel}  key=\"/autotraining/audiomodel\"/>\n            <Route  path='/autotraining/trainset' exact component={MyPages.Trainset}  key=\"/autotraining/trainset\"/>\n            <Route  path='/autotraining/testset' exact component={MyPages.Testset}  key=\"/autotraining/testset\"/> \n            <Route exact path=\"/*\">\n                <Redirect to=\"/home\"/>\n            </Route>\n        </Switch>\n    )\n}\nexport default Routes;\n","import styled from 'styled-components';\n\nexport const HeaderBlock = styled.header`\n    height:64px;\n    color: rgba(0,0,0,.65);\n    line-height: 64px;\n    background: #001529;\n`\n\nexport const LogoBlock = styled.div`\n    padding:0 20px;\n    display:inline-block;\n`\n\nexport const LogoImg = styled.img.attrs({\n    src:'http://www.didiglobal.com/DDlogo.ico'\n})`\n    display:inline-block;\n    width:25px;\n    margin-right: 15px;\n    vertical-align:text-top;\n`\n\nexport const LogoTitle = styled.div`\n    color:#fff;\n    display:inline-block;\n`\nexport const HeaderBtn = styled.div`\n    float:right;\n    color:#fff;\n    font-size:16px;\n    margin:0 5px;\n    padding:0 20px;\n`\n\nexport const UserInfoWapper = styled.div`\n    float:right;\n    color:#fff;\n    font-size:16px;\n    margin:0 5px;\n    padding:0 20px;\n`\n\n\n\n","import React, {Component, Fragment} from 'react'\nimport {connect} from 'react-redux'\nimport {Link, NavLink} from'react-router-dom'\nimport {actionCreators as loginActionCreators} from '../../pages/login/store'\nimport { Menu, Dropdown } from 'antd';\nimport { DownOutlined } from '@ant-design/icons';\nimport { HeaderBlock,LogoBlock,LogoTitle,LogoImg,HeaderBtn,UserInfoWapper } from './style'\n\n// 如果登陆变成个人中心，否则是登陆／注册按钮\nclass AppHeader extends Component{\n\n    renderLoginBtn = () => {\n        return(\n            <Fragment>\n                <NavLink to='/register' activeStyle={{\n                    fontWeight: \"bold\"\n                }}>\n                    <HeaderBtn>注册</HeaderBtn>\n                </NavLink>\n                <NavLink to='/login' activeStyle={{\n                    fontWeight: \"bold\"\n                }}>\n                    <HeaderBtn>登录</HeaderBtn>\n                </NavLink>\n            </Fragment>\n        )\n    }\n\n    renderUserInfo = () => { \n\n        const menu = (\n            <Menu>\n              <Menu.Item onClick={this.props.logout}>\n                退出登录\n              </Menu.Item>\n            </Menu>\n        );\n\n        return(\n            <UserInfoWapper>\n                <Dropdown overlay={menu}>\n                    <a href=\" \" className=\"ant-dropdown-link\" onClick={e => e.preventDefault()}>\n                        {this.props.username} <DownOutlined />\n                    </a>\n                </Dropdown>\n            </UserInfoWapper>\n        )\n    }\n\n    render(){\n\n        const { loginStatus } = this.props\n\n        return(\n            <HeaderBlock>\n                <Link to='/'>\n                    <LogoBlock>\n                        <LogoImg/>\n                        <LogoTitle>\n                            滴滴 | 语言模型开放平台\n                        </LogoTitle> \n                    </LogoBlock>\n                </Link>\n                {\n                    loginStatus ? this.renderUserInfo() : this.renderLoginBtn()\n                }\n            </HeaderBlock>\n        )\n    }\n}\n\nconst mapStateToProps = (state)=>{\n    return {\n        loginStatus: state.getIn(['login','loginStatus']),\n        username: state.getIn(['login','username']),\n    }\n}\n\nconst mapDispatchToProps = (dispatch)=>{\n    return {\n        logout(){\n            dispatch(loginActionCreators.logout())\n            window.location.pathname = '/login'\n        }\n    }\n}\n\nexport default connect(mapStateToProps,mapDispatchToProps)(AppHeader);","\nconst allMenus = [\n    //  叶子菜单项的key也是其链接地址,非叶子节点的key不是url\n    // title:菜单名称（不可为空）；key：唯一值（不可为空）；icon：左侧图标名称（可为空）；subs：子项菜单 \n    {\n        title:'后处理',\n        key:'/aftertreatment',\n        icon:'iconziyuan184',\n        subs:[\n            {\n                title:'纠错处理',\n                key:'/aftertreatment/correction',\n                icon:'iconsousuo'\n            },\n            {\n                title:'标点预测',\n                key:'/aftertreatment/punctuationpred',\n                icon:'iconicon-'\n            },\n            {\n                title:'文本分割',\n                key:'/aftertreatment/textsegmentation',\n                icon:'iconfengexian'\n            },\n        ]\n    },\n    {\n        title:'热词修复',\n        key:'/hotword',\n        icon:'iconresou',\n        subs:[\n            {\n                title:'热词更新',\n                key:'/hotword/update',\n                icon:'iconedit-1-copy'\n            }\n        ]\n    },\n    {\n        title:'模型自训练',\n        key:'/autotraining',\n        icon:'iconshenjingwangluo',\n        subs:[\n            {\n                title:'模型训练',\n                key:'/autotraining/model',\n                icon:'iconmoxingshu'\n            },\n            {\n                title:'环境管理',\n                key:'/autotraining/env',\n                icon:'iconDDshuipingceshi'\n            },\n            {\n                title:'声学模型',\n                key:'/autotraining/audiomodel',\n                icon:'iconicon_common_train'\n            },\n            {\n                title:'训练集',\n                key:'/autotraining/trainset',\n                icon:'iconicon_common_train'\n            },\n            {\n                title:'测试集',\n                key:'/autotraining/testset',\n                icon:'iconDDshuipingceshi'\n            },\n        ]\n    }\n]\n\n// 将有权限的菜单放进store，这里做一个转换 -》1.url与权限字符串的分别对应value、key\n// correction 页的处理比较特殊，需要在本页单独判断是否有权限（store中取值）\nconst authToUrl = {\n    'rules-correct':['/aftertreatment/correction'],\n    'wfst-correct':['/aftertreatment/correction'],\n    'punc-predict':['/aftertreatment/punctuationpred'],\n    'text-split':['/aftertreatment/textsegmentation'],\n    'hot-word':['/hotword/update'],\n    'auto-lm':['/autotraining/model','/autotraining/trainset','/autotraining/testset','/autotraining/audiomodel','/autotraining/env']\n}\nexport function createMenus( authArr ){\n    // 获取store中的权限数组，然后根据权限对应url字典，根据allMenu生成新的menu\n    let urlKeys = new Set()\n    authArr.filter(item=>item in authToUrl).forEach(item=>{authToUrl[item].forEach(childItem=>urlKeys.add(childItem))})\n    const findMenus = (menusNode) => {\n        if(!menusNode.subs){\n            return urlKeys.has(menusNode.key)?menusNode:null\n        }\n        let subMenus = menusNode.subs.filter(menusNode_=>findMenus(menusNode_))\n        return subMenus.length === 0?null:Object.assign(menusNode, {'subs':subMenus});\n    }\n    return allMenus.map(menu=>findMenus(menu)).filter(x=>x);\n}\n\n","import React, { Component } from 'react';\nimport {connect} from 'react-redux'\nimport {Link} from'react-router-dom';\nimport { Menu } from 'antd';\nimport { createMenus } from './config';\nimport Sider from 'antd/lib/layout/Sider';\n\nclass SiderBar extends Component {\n    state = {\n        collapsed: false,\n    };\n\n    // onCollapse = collapsed => {\n    //     console.log(collapsed);\n    //     this.setState({ collapsed });\n    // };\n\n    getIcon = (icon) => {\n        if(icon) return <span className=\"anticon anticon-team\"><i className={\"iconfont \" +icon}></i></span>\n        else return null\n    }\n    handleClick = (e) => {\n        console.log('click ', e);\n    }\n    renderSubMenu = ({key, icon, title, subs}) => {\n        return (\n            <Menu.SubMenu \n                key={key} \n                icon={this.getIcon(icon)}\n                title={title}\n            >\n                {\n                    subs && subs.map(item => {\n                        return item.subs && item.subs.length > 0 ? this.renderSubMenu(item) : this.renderMenuItem(item)\n                    })\n                }\n            </Menu.SubMenu>\n        )\n    }\n    renderMenuItem = ({key, icon, title}) => {\n        return (\n            <Menu.Item key={key}>\n                {this.getIcon(icon)}\n                <Link to={key}>{title}</Link>\n            </Menu.Item>\n        )\n    }\n\n    render(){\n        return(\n            <Sider \n                // collapsible\n                // collapsed = {this.state.collapsed}\n                // onCollapse={this.onCollapse}\n            >\n                <Menu \n                    onClick={this.handleClick}\n                    defaultSelectedKeys={[]}\n                    defaultOpenKeys={[]}\n                    mode=\"inline\"\n                    theme=\"dark\"\n                >\n                    {\n                        this.props.menus.map(item => {\n                            return item.subs && item.subs.length > 0 ? this.renderSubMenu(item) : this.renderMenuItem(item)\n                        })\n                    }\n                </Menu>\n            </Sider>\n        ) \n    }\n}\n\nconst mapStateToProps = (state)=>{\n    return {\n        menus: createMenus(state.getIn(['login','authorities']))\n    }\n}\n\nexport default connect(mapStateToProps,null)(SiderBar);","import styled from 'styled-components';\n\nexport const LayoutContent = styled.section`\n    min-height: calc(100vh - 64px);\n`\n\nexport const LayoutDetail = styled.section`\n    margin: 0 16px;\n    min-width: 780px;\n\n`","import React, { Fragment, useEffect } from 'react';\nimport {\n  useLocation,\n  Redirect\n} from \"react-router-dom\";\nimport {connect} from 'react-redux'\n\nimport Header from './header';\nimport Footer from './footer';\nimport { Login, Register } from '../pages'\nimport SiderBar from './siderBar';\nimport { LayoutContent, LayoutDetail } from './style'\n\n\nimport { actionCreators as loginActionCreators } from '../pages/login/store'\n\nimport { getUserInfo } from '../utils/localStorage'\n\nfunction Layout(props){\n\n    useEffect(()=>{\n        props.checkLogin()\n    })\n\n    const location = useLocation();\n    if(location.pathname === '/login' && !props.loginStatus){\n        return(\n            <Fragment>\n                <Header/>\n                <Login/>\n            </Fragment>\n        )\n    }\n    if(location.pathname === '/register' && !props.loginStatus){\n        return(\n            <Fragment>\n                <Header/>\n                <Register/>\n            </Fragment>\n        )\n    }\n    if(props.loginStatus){\n        return(\n            <Fragment>\n                <Header/>\n                <LayoutContent className=\"ant-layout ant-layout-has-sider\">\n                    <SiderBar/>\n                    <LayoutDetail className=\"ant-layout site-layout\">\n                        {props.children}\n                        <Footer/>\n                    </LayoutDetail>\n                </LayoutContent>\n            </Fragment>\n        )\n    }\n    return <Redirect to='/login'/>\n}\n\n// 有一个坑 hook 不能在组件中使用（useLocation使用了hook）\n\nconst mapStateToProps = (state)=>{\n    return {\n        loginStatus:state.getIn(['login','loginStatus'])\n    }\n}\n\nconst mapDispatch = (dispatch) =>({\n    checkLogin(){\n        const userInfo = getUserInfo()\n        if(userInfo){\n            dispatch(loginActionCreators.handleLoginKeep(userInfo.username,userInfo.userAuth))\n        }\n        \n    }\n})\n\nexport default connect(mapStateToProps,mapDispatch)(Layout);\n","import { combineReducers } from 'redux-immutable'\n// import {reducer as headerReducer } from '../common/header/store'\nimport {reducer as correctionReducer } from '../pages/aftertreatment/correction/store'\nimport {reducer as puncReducer } from '../pages/aftertreatment/punctuationpred/store'\nimport {reducer as textSplitReducer } from '../pages/aftertreatment/textsegmentation/store'\nimport {reducer as hotwordReducer } from '../pages/hotword/hotwordUpdate/store'\nimport {reducer as trainModelReducer } from '../pages/autotraining/trainModel/store'\nimport {reducer as envReducer } from '../pages/autotraining/env/store'\nimport {reducer as trainSetReducer } from '../pages/autotraining/trainset/store'\nimport {reducer as audioModelReducer } from '../pages/autotraining/audioModel/store'\nimport {reducer as testSetReducer } from '../pages/autotraining/testset/store'\nimport {reducer as loginReducer } from '../pages/login/store'\nimport {reducer as registerReducer } from '../pages/register/store'\n\nconst reducer = combineReducers({\n    correction:correctionReducer,\n    punc: puncReducer,\n    textSplit: textSplitReducer,\n    hotword: hotwordReducer,\n    trainModel:trainModelReducer,\n    env:envReducer,\n    audioModel:audioModelReducer,\n    trainSet:trainSetReducer,\n    testSet:testSetReducer,\n    login:loginReducer,\n    register:registerReducer\n})\n\nexport default reducer;","import {createStore, applyMiddleware, compose} from 'redux'\nimport reducer from './reducer'\nimport thunk from 'redux-thunk'\n\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ ?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__({}) : compose;\n\nconst enhancer = composeEnhancers(applyMiddleware(thunk),);\n\nconst store = createStore(\n    reducer,\n    enhancer\n);\n\nexport default store;","import React from 'react';\nimport {Provider} from 'react-redux'\nimport { HashRouter } from 'react-router-dom'\nimport { ConfigProvider } from 'antd';\nimport zhCN from 'antd/es/locale/zh_CN';\n\nimport Routers from './router';\nimport Layout from './layout';\n\nimport store from './store'\n\n\nfunction App() {\n  return (\n    <Provider store={store}>\n        <HashRouter>\n          <ConfigProvider locale={zhCN}>\n            <Layout>\n              <Routers/>\n            </Layout>\n          </ConfigProvider>\n        </HashRouter>\n      </Provider>\n  );\n}\n\nexport default App;\n","// 全局样式\nimport { createGlobalStyle } from 'styled-components'\n\nexport const GlobalStyle = createGlobalStyle`\n  html, body, div, span, applet, object, iframe,\n  h1, h2, h3, h4, h5, h6, p, blockquote, pre,\n  a, abbr, acronym, address, big, cite, code,\n  del, dfn, em, img, ins, kbd, q, s, samp,\n  small, strike, strong, sub, sup, tt, var,\n  b, u, i, center,\n  dl, dt, dd, ol, ul, li,\n  fieldset, form, label, legend,\n  table, caption, tbody, tfoot, thead, tr, th, td,\n  article, aside, canvas, details, embed, \n  figure, figcaption, footer, header, hgroup, \n  menu, nav, output, ruby, section, summary,\n  time, mark, audio, video {\n    margin: 0;\n    padding: 0;\n    border: 0;\n    font-size: 100%;\n    font: inherit;\n    vertical-align: baseline;\n  }\n  /* HTML5 display-role reset for older browsers */\n  article, aside, details, figcaption, figure, \n  footer, header, hgroup, menu, nav, section {\n    display: block;\n  }\n  body {\n    line-height: 1;\n    &::-webkit-scrollbar {\n      width: 0;\n    }\n  }\n  ol, ul {\n    list-style: none;\n  }\n  blockquote, q {\n    quotes: none;\n  }\n  blockquote:before, blockquote:after,\n  q:before, q:after {\n    content: '';\n    content: none;\n  }\n  table {\n    border-collapse: collapse;\n    border-spacing: 0;\n  }\n`\n","import React, { Fragment } from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport {GlobalStyle} from './style.js';\nimport 'antd/dist/antd.css';\nimport './assets/fonts/iconfont.css'\n\nReactDOM.render(\n    <Fragment>\n      <GlobalStyle/>\n      <App />\n    </Fragment>\n  ,\n  document.getElementById('root')\n);\n","export function setUserInfo(userInfo){\n    //json 对象转字符串\n    if(userInfo){\n        localStorage.setItem('userInfo',JSON.stringify(userInfo))\n    }else{\n        localStorage.removeItem('userInfo')\n    }\n    \n}\n\nexport function getUserInfo(userInfo){\n    return JSON.parse(localStorage.getItem('userInfo')) \n}\n\nexport function setAuthToken(token) {\n    if(token){\n        localStorage.setItem('token', token)\n    }else{\n        // 没有token就移除\n        localStorage.removeItem('token')\n    }\n}\n\nexport function getToken(){\n    return localStorage.getItem('token')\n}","export const CHANGE_LOGIN = \"login/CHANGE_LOGIN\"\nexport const CHANGE_AUTHORITIES = \"login/CHANGE_AUTHORITIES\"\nexport const CHANGE_USERNAME = \"login/CHANGE_USERNAME\"\nexport const LOGOUT = \"login/LOGOUT\"\nexport const REMOVE_USERNAME = \"login/REMOVE_USERNAME\"\nexport const REMOVE_AUTHORITIES = \"login/REMOVE_AUTHORITIES\"","import * as constants from './constants'\nimport {fromJS} from 'immutable'\nconst defaultState = fromJS({\n    loginStatus:false,\n    username:'',\n    authorities:[]\n})\n\nexport default (state = defaultState, action)=>{\n    switch(action.type){\n        case constants.CHANGE_LOGIN:\n            return state.set('loginStatus',action.value);\n        case constants.CHANGE_AUTHORITIES:\n            return state.set('authorities',action.authorities);\n        case constants.CHANGE_USERNAME:\n            return state.set('username',action.username);\n        case constants.LOGOUT:\n            return state.set('loginStatus',action.value);\n        case constants.REMOVE_USERNAME:\n            return state.set('username',action.username);\n        case constants.REMOVE_AUTHORITIES:\n            return state.set('authorities',action.authorities);\n        default:\n            return state;\n    }\n}","import * as constants from './constants'\nimport { post, setHeaderAuth } from '../../../utils/ajax'\nimport { setUserInfo, setAuthToken, getToken } from '../../../utils/localStorage'\n\nconst login = () =>({\n    type:constants.CHANGE_LOGIN,\n    value:true\n})\n\nconst changeAuthorities = authorities =>({\n    type:constants.CHANGE_AUTHORITIES,\n    authorities\n})\n\nconst changeUsername = username =>({\n    type:constants.CHANGE_USERNAME,\n    username\n})\n\n\nexport const handleLogin = (params) =>{\n    return (dispatch) => {\n        let url = 'api/v1/user/login/'\n        post({ url, params }).then(res=>{\n            console.log(res)\n            // 保存token\n            localStorage.setItem('refreshToken',res.data.refresh)\n            setHeaderAuth(res.data.access)\n            setAuthToken(res.data.access)\n            setUserInfo({username:res.data.username,userAuth:res.data.services})\n            dispatch(login())\n            dispatch(changeAuthorities(res.data.services))\n            dispatch(changeUsername(res.data.username))\n            // 登陆需要记录是否登陆，以及权限列表，还需要将token存入localstorage（3个动作）\n        }).catch(res=>{\n            console.log(res)\n        })\n    } \n}\n\nexport const handleLoginKeep = (username,authorities) => {\n    return (dispatch) => {\n        if(username){\n            dispatch(login())\n            dispatch(changeUsername(username))\n            setHeaderAuth(getToken())\n            if(authorities){\n                dispatch(changeAuthorities(authorities))\n            }\n        }\n    }\n}\n\nexport const logout = () => {\n    return(dispatch)=>{\n        localStorage.removeItem('refreshToken')\n        setHeaderAuth()\n        setAuthToken()\n        setUserInfo()\n        dispatch(handleLogout())\n        dispatch(removeUsername())\n        dispatch(removeAuthorities())\n    }\n}\n\nconst handleLogout = () =>({\n    type:constants.LOGOUT,\n    value:false\n})\n\nconst removeUsername = () =>({\n    type:constants.REMOVE_USERNAME,\n    username:''\n})\n\nconst removeAuthorities = () =>({\n    type:constants.REMOVE_AUTHORITIES,\n    authorities:[]\n})\n\n","import styled from 'styled-components';\n\nexport const FooterWapper = styled.footer`\n    text-align:center;\n`","import React from 'react';\nimport { FooterWapper } from './style'\n\nfunction Footer() {\n  return (\n    <FooterWapper className=\"ant-layout-footer\">\n        滴滴语言模型开放平台 v.0.1 | Copyright © 2020. All rights reserved \n    </FooterWapper>\n  )\n}\n\nexport default Footer;\n"],"sourceRoot":""}