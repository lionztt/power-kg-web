(this.webpackJsonpmyapp=this.webpackJsonpmyapp||[]).push([[16],{498:function(e,n,t){"use strict";t.r(n);var a=t(56),l=t(57),r=t(59),c=t(58),o=t(0),i=t.n(o),s=t(60),u=t(427),d=t.n(u),m=t(493),f=t(2),p=t.n(f),b=t(1),v=t.n(b),h=t(14),y=t.n(h),E=t(3),g=t.n(E),k=t(30),C=t(98),_=t.n(C),O=t(88),x=function(e,n){var t={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&n.indexOf(a)<0&&(t[a]=e[a]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var l=0;for(a=Object.getOwnPropertySymbols(e);l<a.length;l++)n.indexOf(a[l])<0&&Object.prototype.propertyIsEnumerable.call(e,a[l])&&(t[a[l]]=e[a[l]])}return t},I=function(e){var n,t=o.useContext(O.b).getPrefixCls,a=e.prefixCls,l=e.className,r=e.checked,c=x(e,["prefixCls","className","checked"]),i=t("tag",a),s=g()(i,(n={},p()(n,"".concat(i,"-checkable"),!0),p()(n,"".concat(i,"-checkable-checked"),r),n),l);return delete c.onChange,o.createElement("span",v()({},c,{className:s,onClick:function(n){var t=e.checked,a=e.onChange,l=e.onClick;a&&a(!t),l&&l(n)}}))},j=t(182),w=t(211),D=function(e,n){var t={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&n.indexOf(a)<0&&(t[a]=e[a]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var l=0;for(a=Object.getOwnPropertySymbols(e);l<a.length;l++)n.indexOf(a[l])<0&&Object.prototype.propertyIsEnumerable.call(e,a[l])&&(t[a[l]]=e[a[l]])}return t},S=new RegExp("^(".concat(j.a.join("|"),")(-inverse)?$")),N=new RegExp("^(".concat(j.b.join("|"),")$")),T=function(e,n){var t,a=e.prefixCls,l=e.className,r=e.style,c=e.children,i=e.icon,s=e.color,u=e.onClose,d=e.closeIcon,m=e.closable,f=void 0!==m&&m,b=D(e,["prefixCls","className","style","children","icon","color","onClose","closeIcon","closable"]),h=o.useContext(O.b),E=h.getPrefixCls,C=h.direction,x=o.useState(!0),I=y()(x,2),j=I[0],T=I[1];o.useEffect((function(){"visible"in b&&T(b.visible)}),[b.visible]);var P=function(){return!!s&&(S.test(s)||N.test(s))},M=v()({backgroundColor:s&&!P()?s:void 0},r),F=P(),A=E("tag",a),L=g()(A,(t={},p()(t,"".concat(A,"-").concat(s),F),p()(t,"".concat(A,"-has-color"),s&&!F),p()(t,"".concat(A,"-hidden"),!j),p()(t,"".concat(A,"-rtl"),"rtl"===C),t),l),Y=function(e){e.stopPropagation(),u&&u(e),e.defaultPrevented||"visible"in b||T(!1)},B="onClick"in b||c&&"a"===c.type,R=Object(k.default)(b,["visible"]),q=i||null,z=q?o.createElement(o.Fragment,null,q,o.createElement("span",null,c)):c,H=o.createElement("span",v()({},R,{ref:n,className:L,style:M}),z,f?d?o.createElement("div",{className:"".concat(A,"-close-icon"),onClick:Y},d):o.createElement(_.a,{className:"".concat(A,"-close-icon"),onClick:Y}):null);return B?o.createElement(w.a,null,H):H},P=o.forwardRef(T);P.displayName="Tag",P.CheckableTag=I;var M=P,F=t(496),A=t(421),L=t(422),Y=t(78),B=t(490),R=t(500),q=t(152),z=t(209),H=t(34),J=t(35);function V(){var e=Object(H.a)(["\n    text-align: right;\n    padding: 20px;\n"]);return V=function(){return e},e}function $(){var e=Object(H.a)(["\n    background:#fff;\n    padding: 0 20px;\n    min-height: calc(100vh - 156px);\n    & .edit-btn{\n        background: #faad14;\n        color: #fff;\n        border-color: #faad14;\n    }\n    & .edit-btn:focus,.edit-btn:hover{\n        background:#fbc457;\n        border-color: #fbc457;\n    }\n    & .start-btn{\n        background: #52c41a;\n        border-color: #52c41a;\n        color: #fff;\n    }\n    & .start-btn:focus,.start-btn:hover{\n        background: #74d445;\n        border-color: #74d445;\n    }\n    & .stop-btn{\n        background: #181918;\n        border-color: #181918;\n        color: #fff;\n    }\n    & .stop-btn:focus,.stop-btn:hover{\n        background: #656765;\n        border-color: #656765;\n    }\n\n"]);return $=function(){return e},e}function K(){var e=Object(H.a)(["\n    margin:30px 10px 0;\n"]);return K=function(){return e},e}var G=J.b.main(K()),Q=J.b.div($()),U=J.b.div(V()),W=t(509),X=t(15),Z=m.a.Column,ee={labelCol:{span:6},wrapperCol:{span:16}},ne={wrapperCol:{offset:6,span:16}},te=function(e){Object(r.a)(t,e);var n=Object(c.a)(t);function t(){var e;Object(a.a)(this,t);for(var l=arguments.length,r=new Array(l),c=0;c<l;c++)r[c]=arguments[c];return(e=n.call.apply(n,[this].concat(r))).state={visible:!1,type:"add",data:{testSetName:"",testSetDesc:"",file:[]}},e.showModal=function(n,t){e.setState({visible:!0,type:n,data:t})},e.handleFinish=function(n){console.log(n);var t="api/v1/auto-lm/lm-env/"+n.env_name+"/";Object(X.d)({url:t,params:{env_name:n.env_name,display_name:n.display_name}}).then((function(n){e.reload()})).catch(),e.setState({visible:!1})},e.handleCancel=function(n){console.log(n),e.setState({visible:!1})},e.handleDeleteTableItem=function(n,t){var a="api/v1/auto-lm/lm-env/"+t.env_name;Object(X.a)({url:a,params:{env_name:t.env_name}}).then((function(n){e.reload()}))},e.reload=function(){e.componentDidMount()},e}return Object(l.a)(t,[{key:"renderEnvStatus",value:function(e){return"ACTIVE"===e?i.a.createElement(M,{color:"green"},e):"DISABLED"===e?i.a.createElement(M,{color:"default"},e):null}},{key:"renderModal",value:function(){var e="\u6dfb\u52a0";return"edit"===this.state.type&&(e="\u7f16\u8f91"),console.log(this.state.type,this.state.data),i.a.createElement(F.a,{title:e+"\u73af\u5883",visible:this.state.visible,onCancel:this.handleCancel,footer:null,destroyOnClose:!0},i.a.createElement(A.a,Object.assign({},ee,{name:"basic",initialValues:this.state.data,onFinish:this.handleFinish}),i.a.createElement(A.a.Item,{label:"\u73af\u5883\u540d\u79f0",name:"env_name",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u73af\u5883\u540d\u79f0!"}]},i.a.createElement(L.a,null)),i.a.createElement(A.a.Item,{label:"\u73af\u5883\u63cf\u8ff0",name:"display_name",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u73af\u5883\u63cf\u8ff0!"}]},i.a.createElement(L.a,null)),i.a.createElement(A.a.Item,ne,i.a.createElement(Y.a,{type:"primary",htmlType:"submit"},"\u786e\u5b9a"))))}},{key:"render",value:function(){var e=this;function n(e){console.log(e)}var t=this.props.tableData;return i.a.createElement(G,null,i.a.createElement(Q,null,i.a.createElement(U,null,i.a.createElement(Y.a,{type:"primary",onClick:function(){return e.showModal("add",{})}},"\u6dfb\u52a0\u73af\u5883")),this.renderModal(),i.a.createElement(m.a,{dataSource:t,rowKey:function(e,n){return e.env_name}},i.a.createElement(Z,{title:"\u73af\u5883\u540d\u79f0",width:"10",align:"center",dataIndex:"env_name",key:"envName"}),i.a.createElement(Z,{title:"\u73af\u5883\u7528\u9014\u63cf\u8ff0",width:"10",align:"center",dataIndex:"display_name",key:"display_name"}),i.a.createElement(Z,{title:"\u73af\u5883\u72b6\u6001",align:"center",dataIndex:"env_status",key:"env_status",render:function(n){return e.renderEnvStatus(n)}}),i.a.createElement(Z,{title:"\u62e5\u6709\u58f0\u5b66\u6a21\u578b",align:"center",dataIndex:"am_model",key:"am_model",render:function(e){return i.a.createElement(i.a.Fragment,null,e?e.map((function(e){return i.a.createElement("span",{key:e.file_id},e.user_filename,i.a.createElement("br",null))})):null)}}),i.a.createElement(Z,{title:"\u62e5\u6709\u8bad\u7ec3\u96c6",align:"center",dataIndex:"train_set",key:"train_set",render:function(e){return i.a.createElement(i.a.Fragment,null,e?e.map((function(e){return i.a.createElement("span",{key:e.file_id},e.user_filename,i.a.createElement("br",null))})):null)}}),i.a.createElement(Z,{title:"\u62e5\u6709\u6d4b\u8bd5\u96c6",align:"center",dataIndex:"test_set",key:"test_set",render:function(e){return i.a.createElement(i.a.Fragment,null,e?e.map((function(e){return i.a.createElement("span",{key:e.file_id},e.user_filename,i.a.createElement("br",null))})):null)}}),i.a.createElement(Z,{title:"\u66f4\u65b0\u65f6\u95f4",align:"center",dataIndex:"updated_at",key:"updated_at",render:function(e){return i.a.createElement("span",null,d()(e).format("YYYY-MM-DD HH:mm:ss"))}}),i.a.createElement(Z,{title:"\u64cd\u4f5c",key:"action",align:"center",render:function(t,a,l){return i.a.createElement(B.a,{size:"small"},i.a.createElement(R.a,{disabled:"DISABLED"===a.env_status,title:"\u786e\u8ba4\u5220\u9664\uff1f",onConfirm:function(){return e.handleDeleteTableItem(l,a)},onCancel:n,okText:"\u786e\u5b9a",cancelText:"\u53d6\u6d88"},i.a.createElement(q.a,{placement:"bottomLeft",title:"\u5220\u9664"},i.a.createElement(Y.a,{disabled:"DISABLED"===a.env_status,type:"danger",size:"small",icon:i.a.createElement(W.a,null)}))))}}))))}},{key:"componentDidMount",value:function(){this.props.handleInitTableData()}}]),t}(o.Component);n.default=Object(s.b)((function(e){return{tableData:e.getIn(["env","tableData"])}}),(function(e){return{handleInitTableData:function(){e(z.a.handleInitTableData())}}}))(te)}}]);
//# sourceMappingURL=16.0492cfc3.chunk.js.map